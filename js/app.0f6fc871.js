(function(){var t={2134:function(t,e,n){"use strict";var a=n(9242),i=n(3396);const o={class:"container mx-auto bg-black max-w-[450px] overflow-x-hidden"};function s(t,e,n,a,s,r){const l=(0,i.up)("PartComp1");return(0,i.wg)(),(0,i.iD)("main",o,[(0,i.Wm)(l)])}var r=n(7139),l=n.p+"img/textCtx.85f8f147.png";const p=t=>((0,i.dD)("data-v-753545dc"),t=t(),(0,i.Cn)(),t),u={class:"text-center img-bg"},c=p((()=>(0,i._)("img",{class:"mx-auto px-6 pt-12",src:l,alt:""},null,-1))),d={class:"nav mx-4"},m=["onClick"];function y(t,e,n,a,o,s){const l=(0,i.up)("Stake"),p=(0,i.up)("Swap");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",u,[c,(0,i._)("div",d,[((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(["兑换","质押"],((t,e)=>(0,i._)("div",{key:e,class:(0,r.C_)(o.active===e&&"active"),onClick:t=>o.active=e},(0,r.zw)(t),11,m))),64))])]),1===o.active?((0,i.wg)(),(0,i.j4)(l,{key:0})):((0,i.wg)(),(0,i.j4)(p,{key:1}))])}const b={class:"text-center",style:{"margin-top":"-5.5rem"}},h={class:"text-center"},g={class:"text-center"},w=(0,i._)("section",{class:"h-24"},null,-1);function f(t,e,n,a,o,s){const r=(0,i.up)("PartComp2"),l=(0,i.up)("PartComp3"),p=(0,i.up)("PartComp4");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("section",b,[(0,i.Wm)(r)]),(0,i._)("section",h,[(0,i.Wm)(l)]),(0,i._)("section",g,[(0,i.Wm)(p)]),w])}var x="data:image/png;base64,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";const v=t=>((0,i.dD)("data-v-05ccc6e4"),t=t(),(0,i.Cn)(),t),k=(0,i.uE)('<div class="flex justify-center pingFangRegular" data-v-05ccc6e4><div class="block px-6 rounded-lg border-2 border-gray-600 shadow shadow-purple-700 bg-black mx-4 pb-6" data-v-05ccc6e4><h5 class="text-white text-xl leading-tight rounded-b-lg bg-[#415198] inline-block px-4 py-2" data-v-05ccc6e4>质押规则说明</h5><ul class="space-y-4 mt-6" data-v-05ccc6e4><li class="text-white text-[13px] text-left list-decimal leading-6 opacity-70" data-v-05ccc6e4>三种质押周期可供选择，分别为180天，365天，730天对应的固定收益率分别为20%，50%，260%</li><li class="text-white text-[13px] text-left list-decimal leading-6 opacity-70" data-v-05ccc6e4>质押收益每两年减半，质押收益每日可提取，质押本金在质押周期结束后可一次性提取</li></ul></div></div>',1),A={class:"flex justify-center mt-6 pingFangRegular"},C={class:"block w-full px-6 rounded-lg border-2 border-gray-600 shadow shadow-purple-700 bg-black mx-4 pb-6"},T=v((()=>(0,i._)("div",{class:"text-white text-left text-xl mt-8"},"质押CTX",-1))),S={class:"block mt-6 relative"},D=v((()=>(0,i._)("option",{selected:""},"请选择质押周期",-1))),F=v((()=>(0,i._)("option",{value:"0"},"180天",-1))),E=v((()=>(0,i._)("option",{value:"1"},"365天",-1))),M=v((()=>(0,i._)("option",{value:"2"},"730天",-1))),R=[D,F,E,M],P=v((()=>(0,i._)("img",{class:"w-4 h-4 absolute top-3 right-4 pointer-events-none opacity-70",src:x,alt:""},null,-1))),B={class:"block mt-6 relative"},z={class:"flex justify-between text-white mt-9"},I=v((()=>(0,i._)("p",{class:"text-red-600 text-[12px] mt-6 pb-3"},"提示: 请先批准, 再开始质押",-1)));function N(t,e,n,o,s,l){return(0,i.wg)(),(0,i.iD)("div",null,[k,(0,i._)("div",A,[(0,i._)("div",C,[T,(0,i._)("div",S,[(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>s.period=t),class:"block w-full py-2 pl-4 text-[13px] appearance-none text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none","aria-label":".form-select-sm example"},R,512),[[a.bM,s.period]]),P]),(0,i._)("div",B,[(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":e[1]||(e[1]=t=>s.stakeAmount=t),class:"block w-full py-2 pl-4 text-[13px] appearance-none text-gray-700 placeholder-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",placeholder:"请输入质押/批准数量"},null,512),[[a.nr,s.stakeAmount,void 0,{number:!0}]])]),(0,i._)("div",z,[(0,i._)("button",{class:"dai-btn px-14 text-lg blue-btn","data-mdb-ripple":"true","data-mdb-ripple-color":"light",onClick:e[2]||(e[2]=t=>l.approveCTX())},"批准"),(0,i._)("button",{onClick:e[3]||(e[3]=t=>l.stakeCTX()),class:(0,r.C_)(["dai-btn px-14 text-lg blue-btn",o.blockChain.isApproveCtx?"":"hidden"]),"data-mdb-ripple":"true","data-mdb-ripple-color":"light"},"质押",2),(0,i._)("button",{class:(0,r.C_)(["dai-btn px-14 text-lg bg-gray-600/[0.7] text-white pointer-events-none opacity-50",o.blockChain.isApproveCtx?"hidden":""]),"data-mdb-ripple":"true","data-mdb-ripple-color":"light"},"质押",2)]),I])])])}var U=n(2594),Q=n(3650),L=n(520),O=n(6796),H=n(7647),G=n(9109),Y=(n(7264),[{inputs:[],name:"claimRewards",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"exactTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"redeem",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_claimEnable",type:"bool"}],name:"setClaimEnable",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"value",type:"address"}],name:"setCtxAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_stakeEnable",type:"bool"}],name:"setStakeEnable",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"enum MinerPool.StakeEpoch",name:"stakeEpoch",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"stake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"availableRewards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"canRedeem",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"claimEnable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"ctxAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"DAYS_180",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"DAYS_365",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"DAYS_730",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"stakeEnable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalStaked",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"userInfo",outputs:[{internalType:"enum MinerPool.StakeEpoch",name:"stakeEpoch",type:"uint8"},{internalType:"uint256",name:"totalStakedOf",type:"uint256"},{internalType:"uint256",name:"stakeCount",type:"uint256"},{internalType:"uint256",name:"claimedAmount",type:"uint256"},{internalType:"bool",name:"isRedeemed",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"userIsExist",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"users",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"usersCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"viewAmountOfThis",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}]),J=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],j=[{inputs:[{internalType:"uint256",name:"usdtAmount",type:"uint256"}],name:"buy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"exactTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenAmount",type:"uint256"}],name:"sell",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newPrice",type:"uint256"}],name:"setPrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"USDT",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_token",type:"address"}],name:"viewAmountOfThis",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"wallet",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}];const W="0x34B9609b0ffBd9f742d74D9591b9438DEA93735e",K="0xb82ef4a32924b1b3176bC1F17BcA85C70cef6594",X="https://bsc-dataseed3.ninicoin.io",V=56,Z=(t=5e3)=>new Promise((e=>setTimeout(e,t))),q=()=>window.ethereum?new L.Q(window.ethereum,"any"):new Q.r(X),_=(0,U.Q_)("block-chain-store",{state(){let t=!0;return localStorage.getItem("isLogin")&&(t=!1),{shareId:"",firstLock:t,provider:void 0,account:"请先连接BSC钱包",chainId:56,signer:void 0,ctxToken:void 0,ctxStake:void 0,userInfo:{},totalStakedOf:0,claimedAmount:0,stakeEpoch:0,availableRewards:0,isApproveCtx:!1,canRedeem:!1}},actions:{async init_blockChain(){let t=q();this.provider=t,this.ctxStake=new O.CH(K,Y,t),window.ethereum?Number((await t.getNetwork()).chainId):(0,G.z8)({showClose:!0,message:"Metamask未安装",type:"error",duration:2e3})},async connectWallet(){Number((await this.provider.getNetwork()).chainId)!==V&&this.firstLock||(this.firstLock=!0);let t=localStorage.getItem("isLogin");t||localStorage.setItem("isLogin",!0),this.chainId=Number((await this.provider.getNetwork()).chainId);let e=await this.provider.send("eth_requestAccounts",[]);this.account=e[0],this.signer=this.provider.getSigner(),this.ctxStake=new O.CH(K,Y,this.signer),this.ctxToken=new O.CH(W,J,this.signer);const n=async()=>{this.userInfo=await this.ctxStake.userInfo(this.account),this.stakeEpoch=Number(H.bM(this.userInfo["stakeEpoch"],"wei")),this.claimedAmount=Number(H.bM(this.userInfo["claimedAmount"],"ether")),this.totalStakedOf=Number(H.bM(this.userInfo["totalStakedOf"],"ether")),this.availableRewards=Number(H.bM(await this.ctxStake.availableRewards(),"ether")),this.canRedeem=await this.ctxStake.canRedeem(),await this.judgeApproveAllowance()};await n(),setInterval((async()=>{await n()}),3e3)},async claimRewards(){try{await this.ctxStake.claimRewards({gasLimit:3e5,gasPrice:await this.provider.getGasPrice()})}catch(t){(0,G.z8)({showClose:!0,message:"交易失败",type:"error",duration:2500})}},async approveCtx(t){let e=t.toString();try{console.log("how much approve ctx",e,H.fi(e)),await this.ctxToken.approve(K,H.fi(e)),this.isApproveCtx=!0}catch(n){(0,G.z8)({showClose:!0,message:"批准失败",type:"error",duration:2500})}},async judgeApproveAllowance(){let t=Number(H.dF(await this.ctxToken.allowance(this.account,K)));this.isApproveCtx=t>0},async stakeCtx(t,e){let n=Number(H.dF(await this.ctxToken.allowance(this.account,K)));if(n<e)(0,G.z8)({showClose:!0,message:"批准余额不足",type:"error",duration:2500});else try{await this.ctxStake.stake(String(t),H.fi(String(e)),{gasLimit:3e5,gasPrice:await this.provider.getGasPrice()})}catch(a){(0,G.z8)({showClose:!0,message:"质押失败",type:"error",duration:2500})}},async redeem(){if(this.canRedeem)try{await this.ctxStake.redeem({gasLimit:3e5,gasPrice:await this.provider.getGasPrice()})}catch(t){(0,G.z8)({showClose:!0,message:"赎回失败",type:"error",duration:2500})}else(0,G.z8)({showClose:!0,message:"质押尚未结束",type:"error",duration:2500})},async getAllowance(t,e){const n=new O.CH(t,J,this.signer),a=await n.allowance(this.account,e);return console.log("allowance",a),Number(H.dF(a))},async getBalance(t){const e=new O.CH(t,J,this.signer),n=await e.balanceOf(this.account);return n.toString()},async getPrice(t){const e=new O.CH(t,j,this.signer);console.log("getPrice----",e);const n=await e.price();return console.log("price----",n),n.toString()},async getTokenDecimals(t){const e=new O.CH(t,J,this.signer);return console.log(await e.decimals()),await e.decimals()},async approve(t,e,n){try{let a=n;const i=new O.CH(e,J,this.signer),o=await i.approve(t,a);await Z(1e4);const s=await this.provider.getTransactionReceipt(o.hash);if(s.status)return(0,G.z8)({showClose:!0,message:"批准成功",type:"success",duration:2500}),s.status;throw"approve fail"}catch(a){throw(0,G.z8)({showClose:!0,message:"批准失败",type:"error",duration:2500}),a}},async swap(t,e,n){try{const a=new O.CH(t,j,this.signer);let i;console.log("swap",t,n,a,e),i="USDT"===n?await a.buy(e):await a.sell(e),await Z(1e4);const o=await this.provider.getTransactionReceipt(i.hash);if(o.status)return(0,G.z8)({showClose:!0,message:"兑换成功",type:"success",duration:2500}),o.status;throw"swap fail"}catch(a){(0,G.z8)({showClose:!0,message:"兑换失败",type:"error",duration:2500})}}}});var $={name:"partComp2",setup(){const t=_();return{blockChain:t}},data(){return{stakeAmount:"",period:"请选择质押周期"}},methods:{async approveCTX(){"number"===typeof this.stakeAmount?await this.blockChain.approveCtx(this.stakeAmount):(0,G.z8)({showClose:!0,message:"请填写正确的数量",type:"error",duration:2500})},async stakeCTX(){this.period.length>4||"number"!==typeof this.stakeAmount?(0,G.z8)({showClose:!0,message:"请填写正确的参数",type:"error",duration:2500}):await this.blockChain.stakeCtx(this.period,this.stakeAmount)}}},tt=n(89);const et=(0,tt.Z)($,[["render",N],["__scopeId","data-v-05ccc6e4"]]);var nt=et;const at={class:"mt-6 pingFangRegular"},it={class:"block px-6 rounded-lg border-2 border-gray-600 shadow shadow-purple-700 bg-black mx-4 pb-6"},ot=(0,i._)("h5",{class:"text-white text-xl leading-tight rounded-b-lg bg-[#415198] inline-block px-4 py-2"},"我的数据",-1),st={class:"text-white mt-8 space-y-4"},rt={class:"grid grid-cols-3"},lt={class:"border-r-2 border-dashed border-gray-300/50"},pt=(0,i._)("span",{class:"text-sm opacity-70"},"已质押",-1),ut={class:"gold-text"},ct={class:"border-r-2 border-dashed border-gray-300/50"},dt=(0,i._)("span",{class:"text-sm opacity-70"},"质押周期",-1),mt={class:"gold-text"},yt=(0,i._)("span",{class:"text-sm opacity-70"},"收益率",-1),bt={class:"gold-text"},ht={class:"grid grid-cols-3"},gt={class:"border-r-2 border-dashed border-gray-300/50"},wt=(0,i._)("span",{class:"opacity-70 text-sm"},"每日产量",-1),ft={class:"gold-text"},xt={class:"border-r-2 border-dashed border-gray-300/50"},vt=(0,i._)("span",{class:"text-sm opacity-70"},"已提取量",-1),kt={class:"gold-text"},At=(0,i._)("span",{class:"text-sm opacity-70"},"可提取量",-1),Ct={class:"gold-text"};function Tt(t,e,n,a,o,s){return(0,i.wg)(),(0,i.iD)("div",at,[(0,i._)("div",it,[ot,(0,i._)("div",st,[(0,i._)("div",rt,[(0,i._)("div",lt,[pt,(0,i._)("p",ut,(0,r.zw)(a.blockChain.totalStakedOf),1)]),(0,i._)("div",ct,[dt,(0,i._)("p",mt,(0,r.zw)(s.stakeEpoch),1)]),(0,i._)("div",null,[yt,(0,i._)("p",bt,(0,r.zw)(s.earningRate)+(0,r.zw)(a.blockChain.totalStakedOf>0?"%":""),1)])]),(0,i._)("div",ht,[(0,i._)("div",gt,[wt,(0,i._)("p",ft,(0,r.zw)(s.dailyProduction),1)]),(0,i._)("div",xt,[vt,(0,i._)("p",kt,(0,r.zw)(a.blockChain.claimedAmount.toFixed(4)),1)]),(0,i._)("div",null,[At,(0,i._)("p",Ct,(0,r.zw)(a.blockChain.availableRewards.toFixed(4)),1)])])]),(0,i._)("button",{class:"mt-12 mb-4 dai-btn w-full text-xl rounded-full blue-btn hover:transition-all hover:text-2xl hover-gold-text duration-700","data-mdb-ripple":"true","data-mdb-ripple-color":"light",onClick:e[0]||(e[0]=t=>a.blockChain.claimRewards())},"提取收益"),(0,i._)("button",{id:"redeemBtn",class:(0,r.C_)(["mt-2 mb-4 dai-btn w-full text-xl rounded-full  ",s.redeemBtn]),"data-mdb-ripple":"true","data-mdb-ripple-color":"light",onClick:e[1]||(e[1]=t=>a.blockChain.redeem())},"赎回本金",2)])])}var St={name:"partComp3",setup(){const t=_();return{blockChain:t}},data(){return{period:"",periodDefault:"----"}},watch:{"blockChain.canRedeem":function(){}},computed:{stakeEpoch:function(){let t=this.blockChain.stakeEpoch;return 0===this.blockChain.totalStakedOf?(this.period=this.periodDefault,this.period):(this.period=t,0===t?180:1===t?365:730)},earningRate:function(){let t=this.blockChain.stakeEpoch;return this.period===this.periodDefault?this.period:0===t?20:1===t?50:260},dailyProduction:function(){return this.period===this.periodDefault?0:(this.blockChain.totalStakedOf*this.earningRate/100/this.stakeEpoch).toFixed(4)},redeemBtn(){return this.blockChain.canRedeem?" blue-btn hover:transition-all hover:text-2xl hover-gold-text duration-700":" pointer-events-none opacity-70 bg-gray-500 "}}};const Dt=(0,tt.Z)(St,[["render",Tt]]);var Ft=Dt;const Et={class:"mt-6 pingFangRegular"},Mt={class:"block px-6 rounded-lg border-2 border-gray-600 shadow shadow-purple-700 bg-black mx-4"},Rt={class:"text-white text-start my-5 opacity-70"};function Pt(t,e,n,a,o,s){return(0,i.wg)(),(0,i.iD)("div",Et,[(0,i._)("div",Mt,[(0,i._)("button",{onClick:e[0]||(e[0]=t=>a.blockChain.connectWallet()),class:"text-white text-xl leading-tight rounded-b-lg bg-[#415198] inline-block px-4 py-2"},(0,r.zw)(s.connect),1),(0,i._)("p",Rt,(0,r.zw)(s.account),1)])])}var Bt={name:"partComp4",setup(){const t=_();return{blockChain:t}},computed:{account:function(){let t=this.blockChain.account;return t.length<32?t:t.slice(0,6)+"..."+t.slice(-6)},connect:function(){let t=this.blockChain.account;return t.length<32?"点击连接钱包":"我的账户"}}};const zt=(0,tt.Z)(Bt,[["render",Pt]]);var It=zt,Nt={name:"Stake",components:{PartComp4:It,PartComp3:Ft,PartComp2:nt,PartComp1:Re}};const Ut=(0,tt.Z)(Nt,[["render",f]]);var Qt=Ut,Lt=n.p+"img/change.27804e2c.png";const Ot=t=>((0,i.dD)("data-v-236f1d9d"),t=t(),(0,i.Cn)(),t),Ht={class:"text-center",style:{"margin-top":"-5.5rem"}},Gt={class:"flex justify-center mt-6 pingFangRegular"},Yt={class:"content block w-full px-6 rounded-lg border-2 border-gray-600 shadow shadow-purple-700 bg-black mx-4 pb-6"},Jt={class:"address"},jt={class:"title text-white text-left text-xl"},Wt={class:"lib"},Kt={class:"token"},Xt=["src"],Vt={class:"cont"},Zt={class:"right"},qt={class:"balance"},_t={class:"lib"},$t={class:"token"},te=["src"],ee={class:"cont"},ne={class:"right"},ae={class:"balance"},ie={class:"flex justify-between text-white mt-9"},oe=(0,i.Uk)("批准"),se=(0,i.Uk)("兑换"),re=Ot((()=>(0,i._)("p",{class:"text-red-600 text-center text-[12px] mt-6 pb-3"},"提示: 请先批准, 再开始质押",-1))),le={class:"text-center"};function pe(t,e,n,o,s,l){const p=(0,i.up)("SwapRule"),u=(0,i.up)("el-button"),c=(0,i.up)("PartComp4");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("section",Ht,[(0,i.Wm)(p)]),(0,i._)("section",null,[(0,i._)("div",Gt,[(0,i._)("div",Yt,[(0,i._)("div",Jt,"地址: "+(0,r.zw)(o.$hash(o.blockChain.account)),1),(0,i._)("div",jt,(0,r.zw)(o.state.price)+" USDT/CTX",1),(0,i._)("div",Wt,[(0,i._)("div",Kt,[(0,i._)("img",{src:o.state.from.icon,alt:""},null,8,Xt),(0,i.Uk)(" "+(0,r.zw)(o.state.from.token),1)]),(0,i._)("div",Vt,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.state.from.amount=t),onInput:e[1]||(e[1]=(...e)=>t.$filterNumber&&t.$filterNumber(...e)),onKeyup:e[2]||(e[2]=t=>o.amountChange("from",o.state.from.token)),class:"text-[13px] appearance-none text-gray-700 placeholder-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",placeholder:"请输入兑换数量"},null,544),[[a.nr,o.state.from.amount,void 0,{trim:!0}]]),(0,i._)("div",Zt,[(0,i._)("p",qt,(0,r.zw)(o.state.from.balance),1),(0,i._)("div",{class:"btn",onClick:e[3]||(e[3]=t=>o.setMax("from"))},"max")])])]),(0,i._)("img",{class:"change",src:Lt,alt:"",onClick:e[4]||(e[4]=t=>o.changeFrom())}),(0,i._)("div",_t,[(0,i._)("div",$t,[(0,i._)("img",{src:o.state.to.icon,alt:""},null,8,te),(0,i.Uk)(" "+(0,r.zw)(o.state.to.token),1)]),(0,i._)("div",ee,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=t=>o.state.to.amount=t),onInput:e[6]||(e[6]=(...e)=>t.$filterNumber&&t.$filterNumber(...e)),onKeyup:e[7]||(e[7]=t=>o.amountChange("to",o.state.to.token)),class:"text-[13px] appearance-none text-gray-700 placeholder-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",placeholder:"请输入兑换数量"},null,544),[[a.nr,o.state.to.amount,void 0,{trim:!0}]]),(0,i._)("div",ne,[(0,i._)("p",ae,(0,r.zw)(o.state.to.balance),1),(0,i._)("div",{class:"btn",onClick:e[8]||(e[8]=t=>o.setMax("to"))},"max")])])]),(0,i._)("div",ie,[(0,i.Wm)(u,{style:{"margin-right":"20px",padding:"0 1rem",width:"45%"},class:"text-lg blue-btn","data-mdb-ripple":"true","data-mdb-ripple-color":"light",onClick:e[9]||(e[9]=t=>o.approve()),loading:o.state.approve_loding},{default:(0,i.w5)((()=>[oe])),_:1},8,["loading"]),(0,i.Wm)(u,{style:{padding:"0 1rem",width:"45%"},class:(0,r.C_)([o.state.isClickApprove?"text-lg blue-btn":"text-lg bg-gray-600/[0.7] text-white opacity-50"]),"data-mdb-ripple":"true","data-mdb-ripple-color":"light",loading:o.state.swap_loding,onClick:e[10]||(e[10]=t=>o.state.isClickApprove&&o.swap())},{default:(0,i.w5)((()=>[se])),_:1},8,["class","loading"])]),re])])]),(0,i._)("section",le,[(0,i.Wm)(c)])])}const ue={class:"flex justify-center pingFangRegular"},ce=(0,i.uE)('<div class="block px-6 rounded-lg border-2 border-gray-600 shadow shadow-purple-700 bg-black mx-4 pb-6"><h5 class="text-white text-xl leading-tight rounded-b-lg bg-[#415198] inline-block px-4 py-2">兑换规则</h5><ul class="space-y-4 mt-6"><li class="text-white text-[13px] text-left list-decimal leading-6 opacity-70">买入卖出均统一使用USDT进行结算，兑换比例按照当时汇率为准</li><li class="text-white text-[13px] text-left list-decimal leading-6 opacity-70">买入无划点，1:1实时兑换到账</li><li class="text-white text-[13px] text-left list-decimal leading-6 opacity-70">卖出时扣除％20划点到账，扣除部分自动销毁</li></ul></div>',1),de=[ce];function me(t,e,n,a,o,s){return(0,i.wg)(),(0,i.iD)("div",ue,de)}var ye={name:"SwapRule"};const be=(0,tt.Z)(ye,[["render",me]]);var he=be,ge=n(3627),we="data:image/png;base64,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",fe=n.p+"img/ctx.743167ba.png",xe=n(1097);const ve=(t=1)=>new xe.Z(t),ke=(t,e,n=0)=>t?(e=Number(e),Number(ve(t).shiftedBy(e).toFixed(n,1))):0,Ae=(t,e)=>t?(e=Number(e),ve(t).shiftedBy(e).toFixed()):0,Ce=(t,e)=>!t&&0!=t||-1!=String(t).indexOf("--")?"--":Number(ve(t).toFixed(e,1));var Te=n(4870),Se={name:"Swap",components:{SwapRule:he,ElButton:ge.mi,PartComp4:It},setup(){let t=(0,Te.qj)({price:.33,isClickApprove:!1,approve_loding:!1,swap_loding:!1,config:{56:{swap:"0x5D40759f77c4025c303b8aA25820100CF30e29fe",USDT:"0x55d398326f99059fF775485246999027B3197955",CTX:"0x34B9609b0ffBd9f742d74D9591b9438DEA93735e"},97:{swap:"0xd31fBEf33901788ee4249f28F73bD9e46912ab74",USDT:"0x593f55EF95be8C327F5B3193Bce8086Da3518140",CTX:"0x2dc8C24e82bE23A83d25a4f86b87847690BFe425"}},from:{icon:we,amount:"",balance:0,address:"",token:"USDT",allowance:0},to:{icon:fe,amount:"",balance:0,token:"CTX",address:"",allowance:0}});const e=_();(0,i.YP)((()=>e.account),(()=>{t.from.address=t.config[e.chainId].USDT,t.to.address=t.config[e.chainId].CTX,n()}));const n=async()=>{console.log("USDT",t.from.address),console.log("CTX",t.to.address);const n=await e.getBalance(t.from.address),a=await e.getBalance(t.to.address);t.from.balance=ke(n,-18,4),t.to.balance=ke(a,-18,4);const i=await e.getPrice(t.config[e.chainId].swap);t.price=ke(i,-18,4)},a=(t,e=4,n=6)=>t?(n||(n=e),t.substring(0,e)+"..."+t.substring(t.length-n,t.length)):"--",o=()=>{const e=JSON.parse(JSON.stringify(t.from));t.from=t.to,t.to=e,t.isClickApprove=!1},s=async()=>{try{const e=t.from.amount.toString().split(".");if(isNaN(t.from.amount)||Number(t.from.amount)<=0||-1!==t.from.amount.toString().indexOf(".")&&!e[1])return void(0,G.z8)({showClose:!0,message:"请填写正确的数量",type:"error",duration:2500})}catch(n){return void(0,G.z8)({showClose:!0,message:"请填写正确的数量",type:"error",duration:2500})}t.approve_loding=!0,e.approve(t.config[e.chainId].swap,t.from.address,Ae(t.from.amount,18)).finally((()=>{t.approve_loding=!1,t.isClickApprove=!0}))},r=(e,n)=>{console.log(t.from.amount),setTimeout((()=>{"from"===e?t.to.amount=Ce("USDT"===n?t.from.amount/t.price:t.from.amount*t.price,6):t.from.amount=Ce("USDT"===n?t.to.amount/t.price:t.to.amount*t.price,6)}),1e3)},l=e=>{"from"===e?(t.from.amount=Ce(t.from.balance,6),t.to.amount=Ce(t.from.balance*t.price,6)):(t.to.amount=Ce(t.to.balance,6),t.from.amount=Ce(t.to.balance/t.price,6))},p=async()=>{try{t.swap_loding=!0;const a=await e.getAllowance(t.from.address,t.config[e.chainId].swap);if(console.log("allowance========",a),a<Number(t.from.amount))return(0,G.z8)({showClose:!0,message:"批准余额不足",type:"error",duration:2500}),void(t.swap_loding=!1);e.swap(t.config[e.chainId].swap,Ae(t.from.amount,18),t.from.token).then((e=>{t.from.amount="",t.to.amount="",t.isClickApprove=!1,n()})).finally((()=>{t.swap_loding=!1}))}catch(a){t.swap_loding=!1}};return{state:t,blockChain:e,$hash:a,changeFrom:o,approve:s,amountChange:r,setMax:l,swap:p}}};const De=(0,tt.Z)(Se,[["render",pe],["__scopeId","data-v-236f1d9d"]]);var Fe=De,Ee={name:"partComp1",components:{Stake:Qt,Swap:Fe},data(){return{active:0}}};const Me=(0,tt.Z)(Ee,[["render",y],["__scopeId","data-v-753545dc"]]);var Re=Me,Pe={name:"App",components:{PartComp4:It,PartComp3:Ft,PartComp2:nt,PartComp1:Re},setup(){const t=_();return{blockChain:t}},mounted(){this.blockChain.init_blockChain(),localStorage.getItem("isLogin")&&this.blockChain.connectWallet();const t=this.blockChain;window.ethereum&&(window.ethereum.on("accountsChanged",(async function(e){await t.connectWallet()})),window.ethereum.on("chainChanged",(t=>{console.log("链切换",t),window.location.reload()})))}};const Be=(0,tt.Z)(Pe,[["render",s]]);var ze=Be;n(5969);const Ie=(0,a.ri)(ze);Ie.use((0,U.WB)()),Ie.mount("#app")},6601:function(){}},e={};function n(a){var i=e[a];if(void 0!==i)return i.exports;var o=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=t,function(){n.amdO={}}(),function(){var t=[];n.O=function(e,a,i,o){if(!a){var s=1/0;for(u=0;u<t.length;u++){a=t[u][0],i=t[u][1],o=t[u][2];for(var r=!0,l=0;l<a.length;l++)(!1&o||s>=o)&&Object.keys(n.O).every((function(t){return n.O[t](a[l])}))?a.splice(l--,1):(r=!1,o<s&&(s=o));if(r){t.splice(u--,1);var p=i();void 0!==p&&(e=p)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[a,i,o]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){n.p="/"}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,a){var i,o,s=a[0],r=a[1],l=a[2],p=0;if(s.some((function(e){return 0!==t[e]}))){for(i in r)n.o(r,i)&&(n.m[i]=r[i]);if(l)var u=l(n)}for(e&&e(a);p<s.length;p++)o=s[p],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(u)},a=self["webpackChunktoken_ctx"]=self["webpackChunktoken_ctx"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(2134)}));a=n.O(a)})();
//# sourceMappingURL=app.0f6fc871.js.map